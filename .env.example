# ─────────────────────────────────────────────────────────────────────────────
# Gryt — All-in-One Docker Compose Environment
# Copy this file to .env and edit the values below.
# ─────────────────────────────────────────────────────────────────────────────

# ── Image versions ──────────────────────────────────────────────────────────
# Pin to a specific release (e.g. 1.2.3) or leave as "latest"
CLIENT_VERSION=latest
SERVER_VERSION=latest
SFU_VERSION=latest

# ── Server settings ─────────────────────────────────────────────────────────
SERVER_NAME=My Gryt Server
SERVER_DESCRIPTION=A Gryt voice chat server
SERVER_PASSWORD=
SERVER_INVITE_ONLY=false

# ── Networking ──────────────────────────────────────────────────────────────
# The URL the browser uses to reach your server (for CORS)
CORS_ORIGIN=http://localhost:3666

# Public URL of the SFU that browsers connect to (ws:// or wss://)
SFU_PUBLIC_HOST=ws://localhost:5005

# ── Ports ───────────────────────────────────────────────────────────────────
CLIENT_PORT=3666
SERVER_PORT=5000
SFU_PORT=5005

# SFU UDP range for WebRTC media — open these ports in your firewall
SFU_UDP_MIN=10000
SFU_UDP_MAX=10004

# Set this if the SFU host is behind NAT (the public IP to advertise)
# SFU_ADVERTISE_IP=203.0.113.10

# ── STUN servers ────────────────────────────────────────────────────────────
STUN_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# ── Security ────────────────────────────────────────────────────────────────
# IMPORTANT: Change this in production! Generate with: openssl rand -base64 48
JWT_SECRET=change-me-in-production

# ── Authentication ──────────────────────────────────────────────────────────
# Set to "required" to require Gryt accounts, "disabled" to allow anonymous
GRYT_AUTH_MODE=disabled
GRYT_OIDC_ISSUER=https://auth.gryt.chat/realms/gryt
GRYT_OIDC_AUDIENCE=gryt-web
GRYT_AUTH_API=https://auth.gryt.chat
GRYT_OIDC_REALM=gryt
GRYT_OIDC_CLIENT_ID=gryt-web

# ── ScyllaDB ────────────────────────────────────────────────────────────────
SCYLLA_KEYSPACE=gryt

# ── MinIO (S3-compatible storage) ───────────────────────────────────────────
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
S3_BUCKET=gryt
